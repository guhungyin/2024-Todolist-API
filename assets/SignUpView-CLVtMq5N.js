import{u as _,r as p,c as h,o as w,a as v,b as e,w as i,v as u,d as y,e as b,f as C,g as x,R as S,p as k,h as U}from"./index-CT04YmL-.js";import{i as t,a as V}from"./index-d484KRIS.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const l=n=>(k("data-v-c7fc0e16"),n=n(),U(),n),T={id:"signUpPage",class:"bg-yellow"},M={class:"conatiner signUpPage vhContainer"},H=l(()=>e("div",{class:"side"},[e("a",{href:"#"},[e("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),e("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1)),I={class:"formControls",action:"index.html"},P=l(()=>e("h2",{class:"formControls_txt"},"註冊帳號",-1)),q=l(()=>e("label",{class:"formControls_label",for:"email"},"Email",-1)),B=l(()=>e("label",{class:"formControls_label",for:"name"},"您的暱稱",-1)),E=l(()=>e("label",{class:"formControls_label",for:"password"},"密碼",-1)),N=l(()=>e("label",{class:"formControls_label",for:"againPassword"},"再次輸入密碼",-1)),R=["disabled"],D="https://todolist-api.hexschool.io",F={__name:"SignUpView",setup(n){const m=_(),a=p({email:"",password:"",nickname:""}),r=p(""),c=()=>{a.value.email==""?t.warn("請輸入Email",{theme:"auto",type:"default",autoClose:2e3,dangerouslyHTMLString:!0}):a.value.password==""?t.warn("請輸入密碼",{theme:"auto",type:"default",autoClose:2e3,dangerouslyHTMLString:!0}):a.value.nickname==""?t.warn("請輸入暱稱",{theme:"auto",type:"default",autoClose:2e3,dangerouslyHTMLString:!0}):r.value!==a.value.password?t.warn("密碼與再次輸入密碼不同",{theme:"auto",type:"default",autoClose:2e3,dangerouslyHTMLString:!0}):g()},g=async()=>{try{(await V.post(`${D}/users/sign_up`,a.value)).data.status===!0&&(t.success("註冊成功，請至登入頁登入",{theme:"auto",type:"default",autoClose:2e3,dangerouslyHTMLString:!0}),m.push({name:"loging"}))}catch(d){t.error(d.response.data.message,{theme:"auto",type:"default",dangerouslyHTMLString:!0})}},f=h(()=>a.value.email===""||a.value.password===""||a.value.nickname===""||r.value==="");return(d,o)=>(w(),v("div",T,[e("div",M,[H,e("div",null,[e("form",I,[P,q,i(e("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>a.value.email=s),class:"formControls_input",type:"text",name:"email",placeholder:"請輸入 email",autocomplete:"email",required:""},null,512),[[u,a.value.email]]),B,i(e("input",{"onUpdate:modelValue":o[1]||(o[1]=s=>a.value.nickname=s),class:"formControls_input",type:"text",name:"name",placeholder:"請輸入您的暱稱",autocomplete:"username"},null,512),[[u,a.value.nickname]]),E,i(e("input",{"onUpdate:modelValue":o[2]||(o[2]=s=>a.value.password=s),class:"formControls_input",type:"password",name:"password",placeholder:"請輸入密碼",autocomplete:"new-password",required:""},null,512),[[u,a.value.password]]),N,i(e("input",{"onUpdate:modelValue":o[3]||(o[3]=s=>r.value=s),class:"formControls_input",type:"password",name:"againPassword",placeholder:"請再次輸入密碼",autocomplete:"new-password",required:""},null,512),[[u,r.value]]),e("input",{class:"formControls_btnSubmit",type:"button",onClick:c,value:"註冊帳號",disabled:f.value},null,8,R),y(C(S),{class:"formControls_btnLink",to:"/"},{default:b(()=>[x("登入")]),_:1})])])])]))}},A=L(F,[["__scopeId","data-v-c7fc0e16"]]);export{A as default};
